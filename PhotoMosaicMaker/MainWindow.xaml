<Window x:Class="PhotoMosaicMaker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PhotoMosaicMaker"
        mc:Ignorable="d"
        Title="PhotoMosaicMaker" Width="1100" Height="700">
    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="360"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left: Inputs -->
        <StackPanel Grid.Column="0" Orientation="Vertical">
            <TextBlock FontSize="16" FontWeight="Bold" Text="Inputs" Margin="0,0,0,8"/>

            <TextBlock Text="Target Image Path"/>
            <TextBox Text="{Binding TargetPath, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,12"/>

            <TextBlock Text="Sources Folder (frames)"/>
            <TextBox Text="{Binding SourcesFolder, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,12"/>

            <TextBlock Text="Output Path"/>
            <TextBox Text="{Binding OutputPath, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,12"/>

            <TextBlock Text="Tile Size"/>
            <TextBox Text="{Binding TileSizeText, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,12"/>

            <TextBlock Text="Status"/>
            <TextBlock Text="{Binding StatusText}" Margin="0,4,0,12" TextWrapping="Wrap"/>

            <ProgressBar Height="18" Minimum="0" Maximum="1" Value="{Binding ProgressValue}" Margin="0,0,0,12"/>

            <StackPanel Orientation="Horizontal">
                <Button Content="Build Library" Command="{Binding BuildLibraryCommand}" Width="110" Margin="0,0,8,0"/>
                <Button Content="Render" Command="{Binding RenderCommand}" Width="90" Margin="0,0,8,0"/>
                <Button Content="Cancel" Command="{Binding CancelCommand}" Width="80"/>
            </StackPanel>
        </StackPanel>

        <!-- Right: Preview -->
        <Border Grid.Column="2" BorderBrush="Gray" BorderThickness="1" CornerRadius="6" Padding="8">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <Image Source="{Binding PreviewImage}" Stretch="None"/>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
